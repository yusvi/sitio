

{% extends "base.html" %}
{% load staticfiles %}

		{% block contenido %}

		
<style>
.chart-legend li span{
    display: inline-block;
    width: 20px;
    height: 12px;
    margin-right: 5px;
}

ul {
list-style-type: none;
}

#myTable{
	width:100%;
}





th {
 white-space: nowrap;
 font-size: 13px;
}



#chart, #chart3, #js-legend{

    max-width: 100%;
    height: auto;

} 


#chart2, #js-legend{

    max-height: 100%;
    width: auto;

} 




</style>		
		
		
		     <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header">Gestion de Incidentes y Provisiones del servicio</h1>
                    </div>
                    <!-- /.col-lg-12 -->
             </div>
			 
			 
            {% include "Procesos/Peticiones/tabs.html" %}
			
				<h3>Ver Resumen de Peticiones</h3><br>
				

            <div class="row">			
				<div class="col-lg-7 col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Peticiones Por Analista</b></center>
                        </div>
						
						<div class="panel-body">
				
				<div class="col-lg-12">
					
					<center>
					<canvas id="chart" width="900" height="450"></canvas>
					</center>
					
					
				</div>				
				
                        </div>

                    </div>

					


                   <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Peticiones por Cierre</b></center>
                        </div>
						
						<div class="panel-body">				
				<div class="col-lg-12">
				
					<center>
					<canvas id="chart3" width="900" height="450"></canvas>
					</center>

				</div>
				
                        </div>

                    </div>






                   <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Peticiones por Fecha</b></center>
                        </div>
						
						<div class="panel-body">				
				<div class="col-lg-12">
				
						<table class="table table-striped table-bordered table-hover" id="myTable">
						<thead>
						  <tr>
							<th>Peticion<i class="fa fa-fw fa-sort"></i></th>
							<th>Tipo<i class="fa fa-fw fa-sort"></i></th>
							<th>Analista<i class="fa fa-fw fa-sort"></i></th>
							<th>Asignacion<i class="fa fa-fw fa-sort"></i></th>
							<th>Solucion<i class="fa fa-fw fa-sort"></i></th>
							<th>Cierre<i class="fa fa-fw fa-sort"></i></th>

						  </tr>
						</thead>
						<tbody>
						  {%for item2 in lista2%} 
							<tr>
							<td><a href="/peticion/{{item2.id}}/#section1">Peticion {{ item2.id}}</a></td>
							<td>{{ item2.Tipo}}</td>
							<td>{{ item2.Nombre}} {{ item2.Apellido}}</td>
							<td>{{ item2.Fecha_Asignacion}}</td>
							<td>{{ item2.Fecha_Solucion}}</td>
							<td>{{ item2.Cierre}}</td>

							</tr>
						  {%endfor%}
						</tbody>
					  </table>

				</div>
				
                        </div>

                    </div>
					
					
					
					
				</div>


				<div class="col-lg-5 col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                              <center><b>Peticiones por Tipo</b></center>
                        </div>
						
						<div class="panel-body">
				

				<div class="col-lg-12">

					<center>
					<canvas id="chart2" width="250" height="285"></canvas>
					</center>
					<div id="js-legend" class="chart-legend"></div>		
				
				</div>	

                        </div>

                    </div>

					
					
					
				
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Peticiones por Seguimiento</b></center>
                        </div>
						
						<div class="panel-body">					
				<div class="col-lg-12">				
	
						<table class="table table-striped table-bordered table-hover" id="myTable2">
						<thead>
						  <tr>
							<th>Peticion<i class="fa fa-fw fa-sort"></i></th>
							<th>Productos<i class="fa fa-fw fa-sort"></i></th>
							<th>Seguimientos<i class="fa fa-fw fa-sort"></i></th>
							<th>Entregas<i class="fa fa-fw fa-sort"></i></th>

						  </tr>
						</thead>
						<tbody>
						  {%for item2 in lista2%} 
							<tr>
							<td><a href="/peticion/{{item2.id}}/#section1">Peticion {{ item2.id}}</a></td>
							<td>{{ item2.Productos}}</td>
							<td>{{ item2.Seguimientos}}</td>
							<td>{{ item2.Entrega}}</td>

							</tr>
						  {%endfor%}
						</tbody>
					  </table>		

				</div>	

                        </div>

                    </div>

									
					
					
					
					
				</div>

			</div>	
									

			
			
			
<!--


            <div class="row">			
				
				<div class="col-lg-3">
					<center>
					<label for = "chart">Por Tipo<br><br>
					<canvas id="chart2" width="300" height="200"></canvas>
					</label>
					</center>
					<br><br>
					<div id="js-legend" class="chart-legend"></div>
				
				</div>
				
				
				<div class="col-lg-4">
					<center>
					<label for = "chart">Por Analista<br>
					<canvas id="chart" width="450" height="400"></canvas>
					</label>
					</center>
				</div>
				
				<div class="col-lg-5">
					<center>
					<label for = "chart">Por Cierre<br>
					<canvas id="chart3" width="450" height="400"></canvas>
					</label>
					</center>
				</div>	
                        
			</div>
			
			
			
		
			
			
					
						<br>
			<div class="row">
						<table class="table table-striped table-bordered table-hover" id="myTable">
						<thead>
						  <tr>
							<th>Folio<i class="fa fa-fw fa-sort"></i></th>
							<th>Tipo<i class="fa fa-fw fa-sort"></i></th>
							<th>Productos<i class="fa fa-fw fa-sort"></i></th>
							<th>Analista<i class="fa fa-fw fa-sort"></i></th>
							<th>Asignacion<i class="fa fa-fw fa-sort"></i></th>
							<th>Solucion<i class="fa fa-fw fa-sort"></i></th>
							<th>Seguimientos<i class="fa fa-fw fa-sort"></i></th>
							<th>Cierre<i class="fa fa-fw fa-sort"></i></th>
							<th>Entregas<i class="fa fa-fw fa-sort"></i></th>

						  </tr>
						</thead>
						<tbody>
						  {%for item2 in lista2%} 
							<tr>
							<td><a href="/peticion/{{item2.id}}/#section1">Peticion {{ item2.id}}</a></td>
							<td>{{ item2.Tipo}}</td>
							<td>{{ item2.Productos}}</td>
							<td>{{ item2.Nombre}} {{ item2.Apellido}}</td>
							<td>{{ item2.Fecha_Asignacion}}</td>
							<td>{{ item2.Fecha_Solucion}}</td>
							<td>{{ item2.Seguimientos}}</td>
							<td>{{ item2.Cierre}}</td>
							<td>{{ item2.Entrega}}</td>

							</tr>
						  {%endfor%}
						</tbody>
					  </table>

			</div>
-->			
			
						
			
			
			
			
			

<script>
 
   // bar chart data
   var barData = {
   labels : [{% for item in labels3 %}
                  "{{item.mes}} {{item.ano}}",
              {% endfor %}],
   datasets : [
      {
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(151,187,205,1)",
            bezierCurve : false,
            data : [{% for item in values3 %}
                      {{item.total}},
                    {% endfor %}]
      }]
   }
 
    Chart.defaults.global.animationSteps = 50;
    Chart.defaults.global.tooltipYPadding = 16;
    Chart.defaults.global.tooltipCornerRadius = 0;
    Chart.defaults.global.tooltipTitleFontStyle = "normal";
    Chart.defaults.global.tooltipFillColor = "rgba(0,0,0,0.8)";
    Chart.defaults.global.animationEasing = "easeOutBounce";
    Chart.defaults.global.responsive = false;
    Chart.defaults.global.scaleLineColor = "black";
    Chart.defaults.global.scaleFontSize = 16;
 
   // get bar chart canvas
   var mychart = document.getElementById("chart3").getContext("2d");
 
   steps = 10
   max = 10
   // draw bar chart
   var LineChartDemo = new Chart(mychart).Line(barData, {
        scaleOverride: true,
        scaleSteps: steps,
        scaleStepWidth: Math.ceil(max / steps),
        scaleStartValue: 0,
        scaleShowVerticalLines: true,
        scaleShowGridLines : true,
        barShowStroke : true,
        scaleShowLabels: true,
        bezierCurve: false,
 
   });
 
 
</script>
 

		 

<script>

   var pieData = [
            {% for item2, label2 in set %}
                {
                    value: {{item2.num}},
                    label: "{{label2.tipo}}",
                    color : getRandomColor()

					
                },
                {% endfor %}
 
 
         ];
		 

var options = {
    segmentShowStroke: false,
    animateRotate: true,
    animateScale: false,
    percentageInnerCutout: 50,
    tooltipTemplate: "<%= label %>: <%= value %>"
	}
	
 
   // get bar chart canvas
   var ctx = document.getElementById("chart2").getContext("2d");
 
   steps = 10
   max = 10
   // draw pie chart
   var myChart = new Chart(ctx).Doughnut(pieData, options);
   
   document.getElementById("js-legend").innerHTML = myChart.generateLegend();
 

 
function getRandomColor() {

    var r = (Math.round(Math.random()* 127) + 127).toString(16);
    var g = (Math.round(Math.random()* 127) + 127).toString(16);
    var b = (Math.round(Math.random()* 127) + 127).toString(16);
    return '#' + r + g + b;

} 
 
</script>




		 
<script>
   // bar chart data
   var barData = {
   labels : [{% for item in labels %}
                  "{{item.Nombre}} {{item.Apellido}}",
              {% endfor %}],
   datasets : [
      {
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
         data : [{% for item in values %}
                      {{item.Total}},
                    {% endfor %}]
      }
      ]
   }
 
   // get bar chart canvas
   var mychart = document.getElementById("chart").getContext("2d");
 
   steps = 10
   max = 10
   // draw bar chart
   new Chart(mychart).Bar(barData, {
        scaleOverride: true,
        scaleSteps: steps,
        scaleStepWidth: Math.ceil(max / steps),
        scaleStartValue: 0,
        scaleShowVerticalLines: true,
        scaleShowGridLines : true,
        barShowStroke : true,
        scaleShowLabels: true
   });
 
</script>


<script type="text/javascript">

$(document).ready(function() 
    { 
        $("#myTable").tablesorter(); 
		$("#myTable2").tablesorter(); 
		
    } 
); 


	
</script>	 
		 
		 
		{% endblock contenido %}
		