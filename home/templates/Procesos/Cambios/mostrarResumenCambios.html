

{% extends "base.html" %}
{% load staticfiles %}

		{% block contenido %}

		
<style>
.chart-legend li span{
    display: inline-block;
    width: 20px;
    height: 12px;
    margin-right: 5px;
}

ul {
list-style-type: none;
}


#myTable{
	width:100%;
}

#js-legend, #js-legend2, #js-legend3{
	padding-top: 10px;
}


#js-legend { margin-left: 40px; }




th {
 white-space: nowrap;
 font-size: 13px;
}



#chart, #chart4, #chart5, #js-legend, #js-legend2, #js-legend3{

    max-width: 100%;
    height: auto;

} 


#chart2, #chart3, #chart6, #js-legend, #js-legend2, #js-legend3{

    max-height: 100%;
    width: auto;

} 





</style>		
		
		
		
		     <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header">Gestion de Cambios</h1>
                    </div>
                    <!-- /.col-lg-12 -->
             </div>
			 
			 
            {% include "Procesos/Cambios/tabs.html" %}
			
				<h3>Ver Resumen de Cambios</h3><br>
				
				
				
            <div class="row">			
				<div class="col-lg-7 col-md-6">

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Cambios por Solicitante</b></center>
                        </div>
						
						<div class="panel-body">
				
				<div class="col-lg-12">
					
				<center>
				<canvas id="chart" width="900" height="450"></canvas>
				</center>
					
				</div>				
				
                        </div>

                    </div>

					


                   <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Cambios por Coordinador</b></center>
                        </div>
						
						<div class="panel-body">				
				<div class="col-lg-12">
				
					<center>
					<canvas id="chart4" width="900" height="450"></canvas>
					</center>

				</div>
				
                        </div>

                    </div>



                   <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Cambios por Verificacion</b></center>
                        </div>
						
						<div class="panel-body">				
				<div class="col-lg-12">
				
					<center>
					<canvas id="chart5" width="900" height="450"></canvas>
					</center>

				</div>
				
                        </div>

                    </div>
					
					
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Cambios por Encargados</b></center>
                        </div>
						
						<div class="panel-body">
				
				<div class="col-lg-12">
					
					<table class="table table-striped table-bordered table-hover" id="myTable">
						<thead>
						  <tr>
							<th>Folio<i class="fa fa-fw fa-sort"></i></th>
							<th>Solicitante<i class="fa fa-fw fa-sort"></i></th>
							<th>Estado<i class="fa fa-fw fa-sort"></i></th>
							<th>Coordinador<i class="fa fa-fw fa-sort"></i></th>
							
						  </tr>
						</thead>
						<tbody>
						  {%for item in lista3 %} 
							<tr>
							<td><a href="/cambio/{{item.id}}/#section1">Cambio {{item.id}}</a></td>
							<td>{{ item.Nombre}} {{ item.Apellido}}</td>
							<td>{{ item.Estado }}</td>
							<td>{{ item.NombreC}} {{  item.ApellidoC}}</td>

							
							
							</tr>
						  {%endfor%}
						</tbody>
					  </table>	
					
				</div>				
				
                        </div>

                    </div>						
					
	



                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Cambios por Fechas</b></center>
                        </div>
						
						<div class="panel-body">
				
				<div class="col-lg-12">
					
					<table class="table table-striped table-bordered table-hover" id="myTable2">
						<thead>
						  <tr>
							<th>Folio<i class="fa fa-fw fa-sort"></i></th>
							<th>Inicio<i class="fa fa-fw fa-sort"></i></th>
							<th>Verificacion<i class="fa fa-fw fa-sort"></i></th>
							
						  </tr>
						</thead>
						<tbody>
						  {%for item in lista3 %} 
							<tr>
							<td><a href="/cambio/{{item.id}}/#section1">Cambio {{item.id}}</a></td>
							<td>{{ item.fecha}}</td>
							<td>{{ item.Fecha_Verificacion}}</td>
							
							
							</tr>
						  {%endfor%}
						</tbody>
					  </table>	
					
				</div>				
				
                        </div>

                    </div>						
					


	
	
				</div>


				
				
				
				<div class="col-lg-5 col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                              <center><b>Cambios por Recursos</b></center>
                        </div>
						
						<div class="panel-body">
				

				<div class="col-lg-12">

				<center>				
				<canvas id="chart2" width="250" height="250"></canvas>
				</center>	
				<div id="js-legend" class="chart-legend"></div>
				
				</div>	

                        </div>

                    </div>

					


                    <div class="panel panel-default">
                        <div class="panel-heading">
                              <center><b>Cambios por Estado</b></center>
                        </div>
						
						<div class="panel-body">
				

				<div class="col-lg-12">

				<center>
				<canvas id="chart3" width="250" height="250"></canvas>
				</center>
				<div id="js-legend2" class="chart-legend"></div>
				
				</div>	

                        </div>

                    </div>					
					
					
				
				
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Cambios por Eficacia</b></center>
                        </div>
						
						<div class="panel-body">					
				<div class="col-lg-12">				
	
				<center>
				<canvas id="chart6" width="250" height="250"></canvas>
				</center>

				<div id="js-legend3" class="chart-legend"></div>	

				</div>	

                        </div>

                    </div>
					
					

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Cambios por Estado</b></center>
                        </div>
						
						<div class="panel-body">
				
				<div class="col-lg-12">
					
					<table class="table table-striped table-bordered table-hover" id="myTable">
						<thead>
						  <tr>
							<th>Folio<i class="fa fa-fw fa-sort"></i></th>
							<th>Recursos<i class="fa fa-fw fa-sort"></i></th>
							<th>Eficacia<i class="fa fa-fw fa-sort"></i></th>
							
						  </tr>
						</thead>
						<tbody>
						  {%for item in lista3 %} 
							<tr>
							<td><a href="/cambio/{{item.id}}/#section1">Cambio {{item.id}}</a></td>
							<td>{{ item.estimacion_recursos}}</td>
							<td>{{ item.Eficacia}}</td>
							
							
							</tr>
						  {%endfor%}
						</tbody>
					  </table>	
					
				</div>				
				
                        </div>

                    </div>						
					





                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <center><b>Cambios por Estado</b></center>
                        </div>
						
						<div class="panel-body">
				
				<div class="col-lg-12">
					
					<table class="table table-striped table-bordered table-hover" id="myTable">
						<thead>
						  <tr>
							<th>Folio<i class="fa fa-fw fa-sort"></i></th>
							<th>Responsables<i class="fa fa-fw fa-sort"></i></th>
							<th>Seguimientos<i class="fa fa-fw fa-sort"></i></th>

							
						  </tr>
						</thead>
						<tbody>
						  {%for item in lista3 %} 
							<tr>
							<td><a href="/cambio/{{item.id}}/#section1">Cambio {{item.id}}</a></td>
							<td>{{ item.Responsables}}</td>
							<td>{{ item.Seguimientos}}</td>
							
							
							</tr>
						  {%endfor%}
						</tbody>
					  </table>		
					
				</div>				
				
                        </div>

                    </div>	



					
					
				</div>

			</div>					
				
				
		
				
				
<!--
            <div class="row">			
				
				<div class="col-lg-4">
				
				<center>
				<label for = "chart">Por Solicitante<br>
				<canvas id="chart" width="450" height="400"></canvas>
				</label>	
				</center>

				</div>
				
				
				<div class="col-lg-5">
				<center>
				
				<label for = "chart2">Por Recursos<br><br><br>
				<canvas id="chart2" width="300" height="200"></canvas>
				</label>
				
				</center>
				<div id="js-legend" class="chart-legend"></div>

				</div>				
				

				<div class="col-lg-3">
				<center>
				
				<label for = "chart3">Por Estado<br><br><br>
				<canvas id="chart3" width="300" height="200"></canvas>
				</label>
				
				</center>
				<div id="js-legend2" class="chart-legend"></div>

				</div>					
				
				
				
			</div>				
			<br>
			
			
            <div class="row">			
				
				<div class="col-lg-4">
					<center>
					<label for = "chart4">Por Coordinador<br>
					<canvas id="chart4" width="450" height="400"></canvas>
					</label>
					</center>
				</div>
								
				
				<div class="col-lg-5">
					<center>
					<label for = "chart5">Por Verificacion<br>
					<canvas id="chart5" width="450" height="400"></canvas>
					</label>
					</center>
				</div>	
				
				
				<div class="col-lg-3">
				<center>
				<label for = "chart6">Por Eficacia<br><br><br>
				<canvas id="chart6" width="300" height="200"></canvas>
				</label>
				</center>

				<div id="js-legend3" class="chart-legend"></div>

				</div>						
				
				
			</div>			
			
			
			
			<br>
			
					<table class="table table-striped table-bordered table-hover" id="myTable">
						<thead>
						  <tr>
							<th>Folio<i class="fa fa-fw fa-sort"></i></th>
							<th>Inicio<i class="fa fa-fw fa-sort"></i></th>
							<th>Solicitante<i class="fa fa-fw fa-sort"></i></th>
							<th>Recursos<i class="fa fa-fw fa-sort"></i></th>
							<th>Estado<i class="fa fa-fw fa-sort"></i></th>
							<th>Reunion<i class="fa fa-fw fa-sort"></i></th>
							<th>Coordinador<i class="fa fa-fw fa-sort"></i></th>
							<th>Responsables<i class="fa fa-fw fa-sort"></i></th>
							<th>Seguimientos<i class="fa fa-fw fa-sort"></i></th>
							<th>Verificacion<i class="fa fa-fw fa-sort"></i></th>
							<th>Eficacia<i class="fa fa-fw fa-sort"></i></th>
							
						  </tr>
						</thead>
						<tbody>
						  {%for item in lista3 %} 
							<tr>
							<td><a href="/cambio/{{item.id}}/#section1">Cambio {{item.id}}</a></td>
							<td>{{ item.fecha}}</td>
							<td>{{ item.Nombre}} {{ item.Apellido}}</td>
							<td>{{ item.estimacion_recursos}}</td>
							<td>{{ item.Estado }}</td>
							<td>Reunion {{ item.Reunion}}</td>
							<td>{{ item.NombreC}} {{  item.ApellidoC}}</td>
							<td>{{ item.Responsables}}</td>
							<td>{{ item.Seguimientos}}</td>
							<td>{{ item.Fecha_Verificacion}}</td>
							<td>{{ item.Eficacia}}</td>
							
							
							</tr>
						  {%endfor%}
						</tbody>
					  </table>			
			
			
			<br>
-->
			
			
			
			<!--
            <div class="row">
                <div class="col-lg-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Por Areas
                        </div>
                        <div class="panel-body">
                            <div class="table-responsive">
                                <table class="table">
						<thead>
						  <tr>
							<th>Nombre Grupo</th>
							<th>Total</th>

						  </tr>
						</thead>
						<tbody>
						  {%for item in lista%} 
							<tr>
							<td>{{ item.nombre_grupo}}</td>
							<td>{{ item.num}}</td>

							</tr>
						  {%endfor%}
						</tbody>
					  </table>
		                            </div>
                        </div>
                    </div>
                </div>
                
				
			
				<div class="col-lg-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Por Etapas
                        </div>
                        
                        <div class="panel-body">
                            <div class="table-responsive">
                                <table class="table">
						<thead>
						  <tr>
							<th>Folio</th>
							<th>Planificacion</th>
							<th>Total Responsables</th>
							<th>Verificacion</th>

						  </tr>
						</thead>
						<tbody>
						  {%for item2 in lista2%} 
							<tr>
							<td>Cambio {{ item2.id}}</td>
							<td>{{ item2.Planificacion}}</td>
							<td>{{ item2.Responsables}}</td>
							<td>{{ item2.Verificacion}}</td>

							</tr>
						  {%endfor%}
						</tbody>
					  </table>
		                </div>
                        </div> 
                    </div>
                </div>
         </div>
		 -->
		 

	

 <script>

   var pieData = [
            {% for item2, label2 in set3 %}
                {
                    value: {{item2.total}},
                    label: "{{label2.eficacia}}",
                    color : getRandomColor()

					
                },
                {% endfor %}
 
 
         ];
		 

var options = {
    segmentShowStroke: false,
    animateRotate: true,
    animateScale: false,
    percentageInnerCutout: 50,
    tooltipTemplate: "<%= label %>: <%= value %>"
	}
	
 
   // get bar chart canvas
   var ctx = document.getElementById("chart6").getContext("2d");
 
   steps = 10
   max = 10
   // draw pie chart
   var myChart = new Chart(ctx).Pie(pieData);
   
   document.getElementById("js-legend3").innerHTML = myChart.generateLegend();
 
 
 
function getRandomColor() {

    var r = (Math.round(Math.random()* 127) + 127).toString(16);
    var g = (Math.round(Math.random()* 127) + 127).toString(16);
    var b = (Math.round(Math.random()* 127) + 127).toString(16);
    return '#' + r + g + b;

} 
 
</script>
		 	
	
	
	
	
	
	
<script>
 
   // bar chart data
   var barData = {
   labels : [{% for item in labels5 %}
                  "{{item.mes}} {{item.ano}}",
              {% endfor %}],
   datasets : [
      {
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(151,187,205,1)",
            bezierCurve : false,
            data : [{% for item in values5 %}
                      {{item.total}},
                    {% endfor %}]
      }]
   }
 
    Chart.defaults.global.animationSteps = 50;
    Chart.defaults.global.tooltipYPadding = 16;
    Chart.defaults.global.tooltipCornerRadius = 0;
    Chart.defaults.global.tooltipTitleFontStyle = "normal";
    Chart.defaults.global.tooltipFillColor = "rgba(0,0,0,0.8)";
    Chart.defaults.global.animationEasing = "easeOutBounce";
    Chart.defaults.global.responsive = false;
    Chart.defaults.global.scaleLineColor = "black";
    Chart.defaults.global.scaleFontSize = 16;
 
   // get bar chart canvas
   var mychart = document.getElementById("chart5").getContext("2d");
 
   steps = 10
   max = 10
   // draw bar chart
   var LineChartDemo = new Chart(mychart).Line(barData, {
        scaleOverride: true,
        scaleSteps: steps,
        scaleStepWidth: Math.ceil(max / steps),
        scaleStartValue: 0,
        scaleShowVerticalLines: true,
        scaleShowGridLines : true,
        barShowStroke : true,
        scaleShowLabels: true,
        bezierCurve: false,
 
   });
 
 
</script>		 
		 	
	
	
	
	
<script>
   // bar chart data
   var barData = {
   labels : [{% for item in labels4 %}
                  "{{item.Nombre}} {{item.Apellido}}",
              {% endfor %}],
   datasets : [
      {
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
         data : [{% for item in values4 %}
                      {{item.Total}},
                    {% endfor %}]
      }
      ]
   }
 
   // get bar chart canvas
   var mychart = document.getElementById("chart4").getContext("2d");
 
   steps = 10
   max = 10
   // draw bar chart
   new Chart(mychart).Bar(barData, {
        scaleOverride: true,
        scaleSteps: steps,
        scaleStepWidth: Math.ceil(max / steps),
        scaleStartValue: 0,
        scaleShowVerticalLines: true,
        scaleShowGridLines : true,
        barShowStroke : true,
        scaleShowLabels: true
   });
 
</script>	
	
	
	

 <script>

   var pieData = [
            {% for item3, label3 in set2 %}
                {
                    value: {{item3.Total}},
                    label: "{{label3.Estado}}",
                    color : getRandomColor()

					
                },
                {% endfor %}
 
 
         ];
		 

var options = {
    segmentShowStroke: false,
    animateRotate: true,
    animateScale: false,
    percentageInnerCutout: 50,
    tooltipTemplate: "<%= label %>: <%= value %>"
	}
	
 
   // get bar chart canvas
   var ctx = document.getElementById("chart3").getContext("2d");
 
   steps = 10
   max = 10
   // draw pie chart
   var myChart = new Chart(ctx).Doughnut(pieData);
   
   document.getElementById("js-legend2").innerHTML = myChart.generateLegend();
 
 
 
function getRandomColor() {

    var r = (Math.round(Math.random()* 127) + 127).toString(16);
    var g = (Math.round(Math.random()* 127) + 127).toString(16);
    var b = (Math.round(Math.random()* 127) + 127).toString(16);
    return '#' + r + g + b;

} 
 
</script>



	

 <script>

   var pieData = [
            {% for item2, label2 in set %}
                {
                    value: {{item2.Total}},
                    label: "{{label2.Recursos}}",
                    color : getRandomColor()

					
                },
                {% endfor %}
 
 
         ];
		 

var options = {
    segmentShowStroke: false,
    animateRotate: true,
    animateScale: false,
    percentageInnerCutout: 50,
    tooltipTemplate: "<%= label %>: <%= value %>"
	}
	
 
   // get bar chart canvas
   var ctx = document.getElementById("chart2").getContext("2d");
 
   steps = 10
   max = 10
   // draw pie chart
   var myChart = new Chart(ctx).Pie(pieData);
   
   document.getElementById("js-legend").innerHTML = myChart.generateLegend();
 
 
 
function getRandomColor() {

    var r = (Math.round(Math.random()* 127) + 127).toString(16);
    var g = (Math.round(Math.random()* 127) + 127).toString(16);
    var b = (Math.round(Math.random()* 127) + 127).toString(16);
    return '#' + r + g + b;

} 
 
</script>
		 


			
<script>
   // bar chart data
   var barData = {
   labels : [{% for item in labels %}
                  "{{item.Nombre}} {{item.Apellido}}",
              {% endfor %}],
   datasets : [
      {
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
         data : [{% for item in values %}
                      {{item.Total}},
                    {% endfor %}]
      }
      ]
   }
 
   // get bar chart canvas
   var mychart = document.getElementById("chart").getContext("2d");
 
   steps = 10
   max = 10
   // draw bar chart
   new Chart(mychart).Bar(barData, {
        scaleOverride: true,
        scaleSteps: steps,
        scaleStepWidth: Math.ceil(max / steps),
        scaleStartValue: 0,
        scaleShowVerticalLines: true,
        scaleShowGridLines : true,
        barShowStroke : true,
        scaleShowLabels: true
   });
 
</script>	
		 

	 
		 
		 
<script type="text/javascript">

$(document).ready(function() 
    { 
        $("#myTable").tablesorter(); 
		$("#myTable2").tablesorter(); 
		
    } 
); 


	
</script>	
		 
		 
		 
		 
		{% endblock contenido %}
		